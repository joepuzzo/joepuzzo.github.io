<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title>Types of IO</title>
    <link type="text/css" rel="stylesheet" href="assets/css/github-markdown.css">
    <link type="text/css" rel="stylesheet" href="assets/css/pilcrow.css">
    <link type="text/css" rel="stylesheet" href="assets/css/hljs-github.min.css"/>
    <style>
      body {
        min-width: 200px;
        max-width: 790px;
        margin: 0 auto;
        padding: 30px;
      }
    </style>
  </head>
  <body>
    <article class="markdown-body"><h1 id="types-of-io"><a class="header-link" href="#types-of-io"></a>Types of IO</h1>
<h2 id="interrupt-driven"><a class="header-link" href="#interrupt-driven"></a>Interrupt driven</h2>
<ul class="list">
<li>I/O: CPU gets interrupted every time a character (byte) is read/written  </li>
</ul>
<h2 id="dma-controlled-i-o-or-direct-memory-access"><a class="header-link" href="#dma-controlled-i-o-or-direct-memory-access"></a>DMA controlled I/O or Direct Memory Access</h2>
<pre class="hljs"><code>CPU ---------------mmbus--------------MM
                     <span class="hljs-string">|</span>
                     <span class="hljs-string">|</span>
                    DMA controller
                     <span class="hljs-string">|</span>
                     <span class="hljs-string">|</span>
    -------------------------
       <span class="hljs-string">| </span>
  disk controller </code></pre><ul class="list">
<li>CPU tells DMA; DMA talks to the disk controller; DMA transfers data to/from MM; </li>
<li>DMA interrupts CPU after a block of data read/w</li>
<li>DMA and CPU share MM bus and DMA has priority</li>
</ul>
<h2 id="program-controlled-i-o"><a class="header-link" href="#program-controlled-i-o"></a>Program controlled I/O</h2>
<ul class="list">
<li>CPU waits for I/O I/O highest priority; response time crucial</li>
<li>hard real time systems e.g hospital equipmentâ€¦</li>
<li>soft time systems ( stay within deadlines )</li>
</ul>
<h2 id="hardware-protection-mechanisms"><a class="header-link" href="#hardware-protection-mechanisms"></a>Hardware Protection Mechanisms  </h2>
<ul class="list">
<li>CPU Timer <ul class="list">
<li>Program is allowed a specific amount of time with the cpu</li>
</ul>
</li>
<li>Memory Protection </li>
</ul>
<h2 id="how-to-make-sure-program-does-not-overstep-bounds"><a class="header-link" href="#how-to-make-sure-program-does-not-overstep-bounds"></a>How to make sure program does not overstep bounds</h2>
<ul class="list">
<li>Memory Base Register (MBR) </li>
<li>Memory Limit Register (MLR)</li>
<li>Save MBR MLR and all memory addresses in your program must be within those addresses</li>
<li>This occurs during program runtime </li>
<li>Check is implemented in hardware</li>
<li>How does the cpu know when the os is running vs your code running<ul class="list">
<li>Mode bit <code>1 = OS mode</code> <code>0 = user mode</code></li>
<li>Interrupt will cause the mode bit to flip </li>
</ul>
</li>
</ul>
<h2 id="mode-bit"><a class="header-link" href="#mode-bit"></a>Mode Bit</h2>
<ol class="list">
<li>When computer is switched on, bootstrap code in ROM activated and mode bit is set to 1</li>
<li>Bootstrap code will load OS from default sectors of storage device</li>
<li>OS loaded into MM </li>
<li>login prompt </li>
<li>Mode bit set to 0 for user control after password is entered correctly</li>
<li>when interrupt/trap occurs mode bit is set back to 1</li>
<li>When interrupt serviced os sets mode back to 0 before giving control to user</li>
</ol>
    </article>
  </body>
</html>
