<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title>CPU Scheduling</title>
    <link type="text/css" rel="stylesheet" href="assets/css/github-markdown.css">
    <link type="text/css" rel="stylesheet" href="assets/css/pilcrow.css">
    <link type="text/css" rel="stylesheet" href="assets/css/hljs-github.min.css"/>
    <style>
      body {
        min-width: 200px;
        max-width: 790px;
        margin: 0 auto;
        padding: 30px;
      }
    </style>
  </head>
  <body>
    <article class="markdown-body"><h1 id="cpu-scheduling"><a class="header-link" href="#cpu-scheduling"></a>CPU Scheduling</h1>
<h2 id="types-of-schedulers"><a class="header-link" href="#types-of-schedulers"></a>Types of schedulers</h2>
<p>CPU Scheduler: </p>
<ul class="list">
<li>Short term scheduler</li>
<li>determines who gets the CPU next </li>
</ul>
<p>MM scheduler:</p>
<ul class="list">
<li>long term scheduler </li>
<li>determines which job gets loaded into mm next</li>
<li>mpl - multiprogramming level ( limit on programs )</li>
<li>ensures that there is a mix of <strong>I/O bound jobs</strong> and <strong>CPU bound jobs</strong></li>
</ul>
<p>Medium term scheduler: </p>
<ul class="list">
<li>when a job is blocked for I/O it may get swapped out of MM (stored on disk)</li>
<li>once this jobs I/O is complete, the medium term scheduler determines when it gets swapped into MM</li>
</ul>
<h2 id="when-a-process-is-running"><a class="header-link" href="#when-a-process-is-running"></a>When a process is running</h2>
<ul class="list">
<li>it needs some time on the CPU ( CPU burst time )</li>
<li>it needs some time for I/O ( I/O burst time )</li>
</ul>
<h2 id="cpu-scheduling-algorithms-policies"><a class="header-link" href="#cpu-scheduling-algorithms-policies"></a>CPU Scheduling algorithms/policies</h2>
<ul class="list">
<li>How to evaluate an OS algorithm ? <ul class="list">
<li>Response Time: from users perspective this is the most important metric</li>
<li>Throughput: # of jobs that complete execution per unit time ( managers perspective )</li>
<li>fairness: difficult to quantify </li>
<li>utilization: percentage of time the cpu is busy</li>
<li>Response time RT = WT + ST<ul class="list">
<li>WT = time you wait on queue</li>
<li>ST = service time </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="fcfs-fifo"><a class="header-link" href="#fcfs-fifo"></a>FCFS/FIFO</h2>
<table>
<thead>
<tr>
<th>JOB#</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>time...</th>
</tr>
</thead>
<tbody>
<tr>
<td>J1</td>
<td>E</td>
<td>E</td>
<td>E</td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 4</td>
</tr>
<tr>
<td>J2</td>
<td></td>
<td></td>
<td>W</td>
<td>W</td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 3</td>
</tr>
<tr>
<td>J3</td>
<td></td>
<td></td>
<td></td>
<td>W</td>
<td>W</td>
<td>E</td>
<td>E</td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td>RT = 5</td>
</tr>
<tr>
<td>J4</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>E</td>
<td>E</td>
<td></td>
<td>RT = 6</td>
</tr>
</tbody>
</table>
<h2 id="long-jobs-vs-short-jobs"><a class="header-link" href="#long-jobs-vs-short-jobs"></a>Long Jobs vs short jobs </h2>
<ul class="list">
<li>Long jobs: computationally intensive<ul class="list">
<li>FIFO is better for long jobs </li>
</ul>
</li>
</ul>
<h2 id="lifo-lcfs-non-preemptive"><a class="header-link" href="#lifo-lcfs-non-preemptive"></a>LIFO/LCFS Non-Preemptive</h2>
<table>
<thead>
<tr>
<th>JOB#</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>time...</th>
</tr>
</thead>
<tbody>
<tr>
<td>J1</td>
<td>E</td>
<td>E</td>
<td>E</td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 4</td>
</tr>
<tr>
<td>J2</td>
<td></td>
<td></td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>E</td>
<td>RT = 8</td>
</tr>
<tr>
<td>J3</td>
<td></td>
<td></td>
<td></td>
<td>W</td>
<td>E</td>
<td>E</td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 4</td>
</tr>
<tr>
<td>J4</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>E</td>
<td>E</td>
<td></td>
<td></td>
<td>RT = 5</td>
</tr>
</tbody>
</table>
<h2 id="lifo-lcfs-preemptive"><a class="header-link" href="#lifo-lcfs-preemptive"></a>LIFO/LCFS Preemptive</h2>
<table>
<thead>
<tr>
<th>JOB#</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>time...</th>
</tr>
</thead>
<tbody>
<tr>
<td>J1</td>
<td>E</td>
<td>E</td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>E</td>
<td>E</td>
<td></td>
<td>RT = 10</td>
</tr>
<tr>
<td>J2</td>
<td></td>
<td></td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 1</td>
</tr>
<tr>
<td>J3</td>
<td></td>
<td></td>
<td></td>
<td>E</td>
<td>W</td>
<td>W</td>
<td>E</td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td>RT = 5</td>
</tr>
<tr>
<td>J4</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>E</td>
<td>E</td>
<td>W</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 3</td>
</tr>
</tbody>
</table>
<ul class="list">
<li>Preemptive: the OS checks whether the new job has higher priority then currently excuting job; if true, the new job gets the CPU</li>
<li>LIFO could result in starvation : a job is waiting for the CPU endlessly </li>
</ul>
<h2 id="sjf-non-preemptive"><a class="header-link" href="#sjf-non-preemptive"></a>SJF Non-Preemptive</h2>
<table>
<thead>
<tr>
<th>JOB#</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>time...</th>
</tr>
</thead>
<tbody>
<tr>
<td>J1</td>
<td>E</td>
<td>E</td>
<td>E</td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 4</td>
</tr>
<tr>
<td>J2</td>
<td></td>
<td></td>
<td>W</td>
<td>W</td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 3</td>
</tr>
<tr>
<td>J3</td>
<td></td>
<td></td>
<td></td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>E</td>
<td>E</td>
<td>E</td>
<td></td>
<td>RT = 7</td>
</tr>
<tr>
<td>J4</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>W</td>
<td>E</td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 3</td>
</tr>
</tbody>
</table>
<p><code>4 + 3 + 7 + 3 / 4 = 17 / 4</code></p>
<h2 id="sjf-preemptive"><a class="header-link" href="#sjf-preemptive"></a>SJF Preemptive</h2>
<table>
<thead>
<tr>
<th>JOB#</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>time...</th>
</tr>
</thead>
<tbody>
<tr>
<td>J1</td>
<td>E</td>
<td>E</td>
<td>W</td>
<td>E</td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 5</td>
</tr>
<tr>
<td>J2</td>
<td></td>
<td></td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 1</td>
</tr>
<tr>
<td>J3</td>
<td></td>
<td></td>
<td></td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>E</td>
<td>E</td>
<td>E</td>
<td></td>
<td>RT = 7</td>
</tr>
<tr>
<td>J4</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>W</td>
<td>E</td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 3</td>
</tr>
</tbody>
</table>
<p><code>5 + 1 + 7 + 3 / 4 = 16 / 4</code></p>
<ul class="list">
<li>Theoretically the best policy </li>
<li>Starvation of long jobs possible</li>
</ul>
<h2 id="ljf-longest-job-first-"><a class="header-link" href="#ljf-longest-job-first-"></a>LJF ( Longest Job First )</h2>
<ul class="list">
<li>worst policy in terms of RT </li>
<li>starvation of short jobs </li>
</ul>
<h2 id="round-robin-rr-"><a class="header-link" href="#round-robin-rr-"></a>Round Robin ( RR )</h2>
<ul class="list">
<li>Quantum time: the next maximum time each job is allowed on the CPU once it gets to the head of the CPU queue</li>
<li>once the timer goes off the job rejoins the tail of the ready queue </li>
<li>if the executing job blocks for I/O before the timer goes off then <ol class="list">
<li>the job will join the I/O</li>
<li>the next job in the cpu ready queue gets the cpu</li>
</ol>
</li>
<li>If the executing job is interrupted before its time expires, then the job rejoins the head of the cpu queue. When the inturrupt has been serviced, the job gets the rest of its time</li>
</ul>
<h2 id="rr-quantum-time-2-time-units"><a class="header-link" href="#rr-quantum-time-2-time-units"></a>RR Quantum time = 2 time units </h2>
<table>
<thead>
<tr>
<th>JOB#</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>time...</th>
</tr>
</thead>
<tbody>
<tr>
<td>J1</td>
<td>E</td>
<td>E</td>
<td>W</td>
<td>E</td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 5</td>
</tr>
<tr>
<td>J2</td>
<td></td>
<td></td>
<td>E</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 1</td>
</tr>
<tr>
<td>J3</td>
<td></td>
<td></td>
<td></td>
<td>W</td>
<td>W</td>
<td>E</td>
<td>E</td>
<td>W</td>
<td>W</td>
<td>E</td>
<td></td>
<td>RT = 7</td>
</tr>
<tr>
<td>J4</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>W</td>
<td>W</td>
<td>W</td>
<td>E</td>
<td>E</td>
<td></td>
<td></td>
<td>RT = 5</td>
</tr>
</tbody>
</table>
<p><code>5 + 1 + 7 + 5 / 4 = 18 / 4</code></p>
<ul class="list">
<li>Assumption: if a job finishes its quantum at the same time that a new job arrives, assume that the new job is ahead of the job that </li>
</ul>
<h2 id="multi-level-feedback-mlf"><a class="header-link" href="#multi-level-feedback-mlf"></a>Multi Level Feedback MLF</h2>
<pre class="hljs"><code>                        ________
Q1 ------------------&gt; <span class="hljs-string">|        |</span>
Q2 ------------------&gt; <span class="hljs-string">|  CPU   |</span>
Q3 ------------------&gt; <span class="hljs-string">|        |</span>
Q3 ------------------&gt; <span class="hljs-string">|________|</span></code></pre><ul class="list">
<li>Jobs in Qi have higher priority then jobs in Qj where j &gt; i </li>
<li><p>A job waiting in Qj can execute only when Q1, Q2, ..., Qj - 1 are empty </p>
<pre class="hljs"><code>                          ________
  Q1 ------------------&gt; <span class="hljs-string">|        |</span>
  Q2 ------------------&gt; <span class="hljs-string">|  CPU   |</span>
  Q3 ------------------&gt; <span class="hljs-string">|        |</span>
  Q3 ------------------&gt; <span class="hljs-string">|________|</span></code></pre></li>
<li><p>Each queue uses RR </p>
</li>
<li>Probability of getting executed goes up as you are higher in the &quot;queue stack&quot;</li>
<li>Jobs join the ready queue at Q1</li>
<li>if the cpu burst of the job &gt; qt1 </li>
<li>if the cpu burst of the job is &lt; qt1 (blocks for I/O ) then job rejoins Q1 after finishing IO</li>
<li>once a job moves to a lower queue, it is moved up if the job uses less than its quantum time for served cpu bursts</li>
<li></li>
</ul>
<h2 id="mlf-nonpreemptive"><a class="header-link" href="#mlf-nonpreemptive"></a>MLF nonpreemptive</h2>
<ul class="list">
<li>q1 qt = 1 </li>
<li>q2 qt = 2 </li>
<li>q3 qt = 10 </li>
</ul>
<table>
<thead>
<tr>
<th>JOB#</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>time...</th>
</tr>
</thead>
<tbody>
<tr>
<td>J1</td>
<td>E1</td>
<td>E2</td>
<td>E2</td>
<td>W3</td>
<td>W3</td>
<td>W3</td>
<td>W3</td>
<td>W3</td>
<td>W3</td>
<td>E3</td>
<td></td>
<td>RT = 10</td>
</tr>
<tr>
<td>J2</td>
<td></td>
<td></td>
<td>W1</td>
<td>E1</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 2</td>
</tr>
<tr>
<td>J3</td>
<td></td>
<td></td>
<td></td>
<td>W1</td>
<td>E1</td>
<td>W2</td>
<td>E2</td>
<td>E2</td>
<td></td>
<td></td>
<td></td>
<td>RT = 5</td>
</tr>
<tr>
<td>J4</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>W1</td>
<td>E1</td>
<td>W2</td>
<td>W2</td>
<td>E2</td>
<td></td>
<td></td>
<td>RT = 5</td>
</tr>
</tbody>
</table>
<h2 id="mlf-preemptive"><a class="header-link" href="#mlf-preemptive"></a>MLF preemptive</h2>
<ul class="list">
<li>q1 qt = 1 </li>
<li>q1 qt = 2 </li>
<li>q1 qt = 10 </li>
</ul>
<table>
<thead>
<tr>
<th>JOB#</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>time...</th>
</tr>
</thead>
<tbody>
<tr>
<td>J1</td>
<td>E1</td>
<td>E2</td>
<td>W2</td>
<td>W2</td>
<td>W2</td>
<td>E2</td>
<td>W3</td>
<td>W3</td>
<td>W3</td>
<td>E3</td>
<td></td>
<td>RT = 10</td>
</tr>
<tr>
<td>J2</td>
<td></td>
<td></td>
<td>E1</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>RT = 1</td>
</tr>
<tr>
<td>J3</td>
<td></td>
<td></td>
<td></td>
<td>E1</td>
<td>W2</td>
<td>W2</td>
<td>E2</td>
<td>E2</td>
<td></td>
<td></td>
<td></td>
<td>RT = 5</td>
</tr>
<tr>
<td>J4</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>E1</td>
<td>W2</td>
<td>W2</td>
<td>W2</td>
<td>E2</td>
<td></td>
<td></td>
<td>RT = 5</td>
</tr>
</tbody>
</table>
<h2 id="techniques-for-evaluating-os-networks"><a class="header-link" href="#techniques-for-evaluating-os-networks"></a>Techniques for evaluating OS/Networks</h2>
<ul class="list">
<li>deterministic</li>
<li>implementation </li>
<li>simulation</li>
<li>analytic modeling</li>
</ul>
    </article>
  </body>
</html>
